# Example SvxLink Scheduler Configuration with COMMAND support
# This demonstrates how to use the COMMAND parameter to execute system commands

[SCHEDULE]
ENABLED=1
DEBUG=1
MESSAGES=WeatherMessage,NewsRadio,IDMessage,SystemCheck,LogRotate,BackupData

[WeatherMessage]
DAYS=ALL
TIME=12:00
FILE=/usr/share/svxlink/sounds/weather.wav
ENABLED=1

[NewsRadio]
DAYS=WEEKDAYS
TIME=08:00,18:00
MACRO=9
ENABLED=1

[IDMessage]
DAYS=ALL
TIME=*/30
FILE=/usr/share/svxlink/sounds/en_US/Help/choose_module.wav
ENABLED=1

# System maintenance command - runs every day at 2 AM
[SystemCheck]
DAYS=ALL
TIME=02:00
COMMAND=/usr/local/bin/system_health_check.sh
ENABLED=1

# Log rotation - runs every Sunday at 3 AM
[LogRotate]
DAYS=7
TIME=03:00
COMMAND=/usr/bin/logrotate /etc/logrotate.d/svxlink
ENABLED=1

# Data backup - runs every day at 1 AM
[BackupData]
DAYS=ALL
TIME=01:00
COMMAND=/usr/local/bin/backup_svxlink_data.sh
ENABLED=1

# Complex command with multiple operations
[Maintenance]
DAYS=ALL
TIME=04:00
COMMAND=/bin/bash -c "echo 'Starting maintenance at $(date)' >> /var/log/svxlink/maintenance.log && /usr/bin/find /var/log/svxlink -name '*.log' -mtime +30 -delete"
ENABLED=1

# Command that plays audio after execution
[StatusReport]
DAYS=WEEKDAYS
TIME=09:00
COMMAND=/usr/local/bin/generate_status_report.sh
FILE=/usr/share/svxlink/sounds/en_US/Help/choose_module.wav
ENABLED=1

# Command with logic-specific execution
[RepeaterMaintenance]
DAYS=ALL
TIME=05:00
COMMAND=/usr/local/bin/repeater_maintenance.sh
DISABLE_LOGIC=SimplexLogic,ReflectorLogic
ENABLED=1

# Command that updates configuration
[ConfigUpdate]
DAYS=ALL
TIME=*/6
COMMAND=/usr/local/bin/update_svxlink_config.sh
ENABLED=1
